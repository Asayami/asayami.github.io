<!DOCTYPE HTML>
<html>
    <head>
		<!-- Google tag (gtag.js) -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-3NTSMWGK5D"></script>
		<script>
		  window.dataLayer = window.dataLayer || [];
		  function gtag(){dataLayer.push(arguments);}
		  gtag('js', new Date());

		  gtag('config', 'G-3NTSMWGK5D');
		</script>
        <meta charset="UTF-8">
        <title>XSS with AngularJS</title>
        <link rel="icon" type="image/png" href="https://asayami.github.io/favicon.png"/>
        <link rel="stylesheet" href="xss_source/xss_css.css">
		<link rel="stylesheet" href="https://asayami.github.io/theme/theme.css">
        <script src="xss_source/xss_js.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <meta name="description" content="Những bài viết, kinh nghiệm của mình về XSS">
		<meta name="keywords" content="Hacking, hack, XSS, Cross Site Scripting, Cheat Sheet">
		<meta name="author" content="Asayami Kurashin">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
		<div class="snowflakes" aria-hidden="true">
			<div class="snowflake">❅</div>
			<div class="snowflake"><img src="https://asayami.github.io/theme/1.png" style="width:24px" class="img-fluid mx-auto d-block responsive_phone"></img></div>
			<div class="snowflake">❆</div>
			<div class="snowflake">❄</div>
			<div class="snowflake"><img src="https://asayami.github.io/theme/2.png" style="width:24px" class="img-fluid mx-auto d-block responsive_phone"></img></div>
			<div class="snowflake">❅</div>
			<div class="snowflake">❆</div>
			<div class="snowflake"><img src="https://asayami.github.io/theme/3.png" style="width:24px" class="img-fluid mx-auto d-block responsive_phone"></img></div>
			<div class="snowflake">❄</div>
		</div>
        <!-- Navigation Bar -->
        <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
            <div class="container-fluid navmain" id="navbar" onscroll="NavScroll()">
                <script>window.onscroll = NavScroll;</script>
                <a class="navbar-branch" href="https://asayami.github.io/">
                    <img src="https://asayami.github.io/transparent-favicon.png" style="width:50px;" class="link"></img>
                </a>
                <button class="navbar-toggler ml-auto custom-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"  aria-controls="navbarSupportedContent-7" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto">
						<div class="dropdown-divider"></div>
                        <li class="nav-item active navitem">
                            <a href="https://asayami.github.io/">Home
                                <span class="sr-only">(current)</span>
                            </a>
                        </li>
                        <div class="dropdown-divider"></div>
                        <li class="nav-item navitem">
                            <a href="https://asayami.github.io/hacking.html">Hacking</a>
                        </li>
						<div class="dropdown-divider"></div>
						<li class="nav-item navitem">
                            <a href="https://asayami.github.io/embedded.html" class="link">Embedded</a>
                        </li>
                        <div class="dropdown-divider"></div>
                        <li class="nav-item navitem">
                            <a href="https://asayami.github.io#aboutanchor">About</a>
                        </li>
                        <div class="dropdown-divider"></div>
                        <li class="nav-item navitem">
                            <a href="https://asayami.github.io#contactanchor">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="mainPicture"></div>
        <div class="paragraph">
            <p>AngularJS là một thư viện JS rất phổ biến hiện nay, nhưng đi kèm với nó là những lỗ hổng tiềm tàng. Thư viện này đã
			bị khai thác qua nhiều phiên bản và phải cập nhật, bỏ bớt một số tính năng để đảm bảo tính bảo mật đối với các lỗ hổng
			đã được tìm thấy. Trong bài viết này chúng ta sẽ xem tại sao AngularJS lại hay bị khai thác, cũng như xem cách khai thác
			của các phiên bản AngularJS trước đây.</p>
			<p>Bài viết này mình sẽ dựa trên series AngularJS Security của LiveOverflow. Vì nội dung của series AngularJS Security đã khá đầy
			đủ rồi nên mình sẽ chỉ thêm thắt và giải thích một số chỗ khó hiểu của series này.</p>
        </div>
		<div class="paratitle">
			<h2>Episode 1</h2>
		</div>
		<div class="paragraph">
			<p>Episode 1:
			<a href="https://www.youtube.com/playlist?list=PLhixgUqwRTjwJTIkNopKuGLk3Pm9Ri1sF">Here</a></p>
			<p>AngularJS là ngôn ngữ front-end thuần Javascript. Nó cung cấp khả năng data binding ở phía client thông qua {{expression}}.
			Các expression này sẽ được đánh giá kỹ lưỡng, check xem đã khai báo ở scope đó chưa. Vì tính bảo mật này, tính chất này còn được
			gọi là Angular sandbox. Bên cạnh expression đã khai báo, AngularJS cũng cho phép truy cập Function constructor, window object,
			DOM element, biến global, hoặc Object constructor.</p>
			<p>Bạn đọc có thể tìm hiểu sâu hơn về AngularJS tại:
			<a href="https://www.w3schools.com/angular/">W3SChools</a></p>
			<p>Để test và exploit các lỗ hổng AngularJS, mình sử dụng một page PHP tên là search.php như dưới đây:</p>
			<font color="#009933"><pre><code>
&#60;script src='angular_1.0.8.js'>&#60;/script>
&#60;form action="search.php" method="get">
Name: &#60;input type="text" name="data">
&#38;emsp;&#60;input type="submit">
&#60;/form>
&#60;div ng-app>
	&#60;p>Hello Asayami, your prohibited goods:
	&#60;?php
		echo htmlspecialchars(($_GET['data']),ENT_QUOTES);
	?>
	&#60;/p>
&#60;/div></font color="#009933"></pre></code>
			<p><br>Tuy nhiên, ví dụ trên không đúng với cách sử dụng AngularJS, vì ngôn ngữ này là front-end, hoạt động bên client, không nên dính
			dáng tới ngôn ngữ back-end như PHP. Nhưng chúng ta vẫn có thể sử dụng nó để tiếp cận dễ dàng với AngularJS.</p>
			<p>Các bạn đọc có thể tải thư viện phiên bản mong muốn ở trang chủ của angular.</p>
			<p>Để có thể tìm ra hàm getterFn tuần tự, chúng ta có sử dụng kỹ thuật debugging. Sau khi load URL mong muốn, hãy mở
			Dev Tool, tab Sources, ở cột phải nhấn vô nút
			<i class="fa-solid fa-pause"></i>
			(pause script execution) và sử dụng nút mũi tên bên phải nó để lướt qua các function call. Mỗi lần dừng có thể chuyển qua tab console
			để xem giá trị hiện tại của các object.</p>
		</div>
		
		
		
    </body>
</html>